---
title: "R_ggplot learning note"
format: 
  html:
    theme: cosmo
    toc: true
    toc - depth: 3
    code-fold: false
---

![](https://cdn.myportfolio.com/45214904-6a61-4e23-98d6-b140f8654a40/352c905d-7be3-4808-9514-1fac3b0fe2fc.png?h=f8615631836782f2bb8174cb701b27d0)

![](https://cdn.myportfolio.com/45214904-6a61-4e23-98d6-b140f8654a40/9a306c0a-dac8-413d-ba2e-cc7fd4c4d5c8.png?h=d717f64562906ed3c4f3013ad33fb27e)

# 1. From youtube ggplot2 tutorial

## My First ggplot2 Code Chunk

```{r}
#| label: fig-penguins
#| fig-cap: "Dimensions of penguins across three species."
#| fig-align: "center"
#| fig-alt: "Scatter plot showing the relationship between flipper length and bill length for three penguin species."
#| warning: false
library(tidyverse, quietly = TRUE)
library(palmerpenguins)
penguins |>
  ggplot() +
  geom_point(
    mapping = aes(
      x = body_mass_g,
      y = flipper_length_mm,
      color = species
    ),
    size = 4,
    alpha = 0.75
  ) +
  labs(
    title = "Penguin Body Mass vs Flipper Length",
    subtitle = "Comparing three penguin species",
    x = "Body Mass (g)",
    y = "Flipper Length (mm)",
    caption = "Data from the palmerpenguins package"
  ) +
  theme_minimal(base_size = 12) +
  theme(
    plot.title.position = 'plot',
    plot.caption.position = 'plot',
    legend.position = 'top',
    plot.title = element_text(
      face = 'bold',
      color = 'red',
      size = 24
    ),
    plot.background = element_rect(
      fill = 'green',
      colour = 'black',
      linewidth = 3
    )
  ) +
  scale_x_continuous(
    limits = c(3000, 8000),
    breaks = c(3000, 5000, 7000),
    label = c('3000', '50 Hundreds', '7e3')
  )
```

```{r}
ggplot() +
  geom_bar(
    data = penguins,
    mapping = aes(
      y = species
    )
  )
```

```{r}
counted_penguins <- penguins |> count(species)
counted_penguins
```

```{r}
ggplot() +
  geom_bar(
    data = counted_penguins,
    mapping = aes(
      x = n,
      y = species
    ),
    stat = 'identity'
  )
```

```{r}
ggplot() +
  stat_bin(
    data = penguins,
    mapping = aes(
      x = body_mass_g
    )
  )
```

```{r}
ggplot() +
  geom_bar(
    data = penguins,
    mapping = aes(
      x = body_mass_g
    ),
    stat = 'bin'
  )
```

```{r}
ggplot(
  data = counted_penguins,
  mapping = aes(
    y = species
  )
) +
  geom_col(
    mapping = aes(
      x = n
    ),
    fill = 'steelblue'
  ) +
  geom_text(
    mapping = aes(
      x = n - 5.5,
      label = n
    ),
    size = 5,
    color = 'white',
    fontface = 'bold'
  )
```

```{r}
ggplot() +
  geom_histogram(
    data = penguins |> filter(!is.na(sex)),
    mapping = aes(
      x = body_mass_g,
      fill = sex,
    ),
    alpha = 0.6,
    position = position_identity()
  )
```

```{r}
ggplot() +
  geom_jitter(
    data = penguins,
    mapping = aes(
      x = body_mass_g,
      y = flipper_length_mm,
      color = species
    ),
    size = 4,
    alpha = 0.75
  ) +
  labs(
    x = 'Body weight (in g)',
    y = 'Flipper length (in mm)',
    color = 'Species',
    title = 'Heavier penguins have longer flippers',
    subtitle = 'Who would have guessed that?',
    caption = 'Data comes from the palmerpenguins R package'
  ) +
  theme_minimal(base_size = 16)
```

```{r}
ggplot() +
  geom_histogram(
    data = penguins |> filter(!is.na(sex)),
    mapping = aes(
      x = body_mass_g,
      fill = sex
    )
  ) +
  facet_wrap(~sex) +
  theme(legend.position = 'none')
```

```{r}
gapminder::gapminder |>
  ggplot(
    mapping = aes(
      x = year,
      y = lifeExp,
      col = continent
    )
  ) +
  geom_jitter(size = 2, alpha = 0.2) +
  geom_smooth()
```

```{r}
gapminder::gapminder |> 
  ggplot(
    mapping = aes(
      x = year,
      y = lifeExp,
      col = continent
    )
  ) +
  geom_jitter(alpha = 0.1, size = 2) +
  geom_smooth(linewidth = 1.5, se = FALSE) +
  theme_minimal(base_size = 16) +
  labs(
    x = element_blank(),
    y = 'Life Expectancy (in years)',
    title = 'Life expectancy increased over time',
    caption = 'Data: Gapminder R package'
  )
```

```{r}
gapminder::gapminder |> 
  ggplot(
    mapping = aes(
      x = year,
      y = lifeExp,
      col = continent
    )
  ) +
  geom_jitter(alpha = 0.1, size = 2) +
  geom_smooth(linewidth = 1.5, se = FALSE) +
  facet_wrap(vars(continent), nrow = 1) +
  theme_minimal(base_size = 11) +
  theme(
    legend.position = 'none',
    panel.grid.minor = element_blank()
  ) +
  scale_x_continuous(breaks = c(1960, 1980, 2000)) +
  labs(
    x = element_blank(),
    y = 'Life Expectancy (in years)',
    title = 'Life expectancy increased over time',
    caption = 'Data: Gapminder R package'
  )
```